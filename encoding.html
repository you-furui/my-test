<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <meta name="robots" content="noindex,nofollow">
    <script type="text/javascript" src="style_script.js"></script>
    <title>文字化けについて - 「見ひらきで学べるJavaプログラミング」サポート</title>
  </head>
  <body>
    <header id="common-header"></header>
    <nav id="common-nav"></nav>
    <main role="main">
      <article>
        <h2>Javaソースファイルの文字コードと文字化けについて</h2>
        <p>JDKを使ってJavaプログラムを開発するとき、JDKの文字コードと、テキストエディタで書いたJavaソースファイルの文字コードとは一致していなくてはなりません。</p>
        <p>文字コードが一致していないと、コンパイルや実行において文字が正常に処理されず、エラーや奇妙な文字列が表示される現象（文字化け）の原因になります。</p>
        <h3>現象</h3>
        <p>文字コードの不一致によるエラーや文字化けの例を示します。
        図1および図2は <tt>javac</tt> によるコンパイルの際にエラーが起きた例です。
        図3は <tt>java</tt> によるJavaプログラム実行の際に文字化けが起きた例です。</p>
        <figure>
          <img src="encoding_error1.png" alt="An error caused by encoding mismtach.">
          <figcaption>図1: 文字コード不一致によるエラー例1</figcaption>
        </figure>
        <figure>
          <img src="encoding_error2.png" alt="Errors caused by encoding mismtach.">
          <figcaption>図2: 文字コード不一致によるエラー例2</figcaption>
        </figure>
        <figure>
          <img src="encoding_error3.png" alt="Text garbled by encoding mismtach.">
          <figcaption>図3: 文字コード不一致による文字化けの例</figcaption>
        </figure>
        <h3>対処方法</h3>
        <p>上のようなエラーや文字化けが発生したら、次のいずれかの操作を試してください。</p>
        <ul>
          <li>方法1: <tt>javac</tt> の実行時に <tt>-encoding MS932</tt> というオプションを付ける（Javaソースファイルの文字コードがシフトJISであればこれでうまくいきます）。
            <pre>javac -encoding MS932 Hello.java</pre>
          <li>方法2: <tt>javac</tt> の実行時に <tt>-encoding UTF-8</tt> というオプションを付ける（Javaソースファイルの文字コードがUTF-8であればこれでうまくいきます）。
            <pre>javac -encoding UTF-8 Hello.java</pre>
        </ul>
        <h3>詳しい説明</h3>
        <p>詳細については<a href="errata.pdf" target="_blank">正誤表</a>の付録Aを参照してください。</p>
      </article>
    </main>
    <footer id="common-footer"></footer>
  </body>
</html>